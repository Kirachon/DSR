# Philippine Dynamic Social Registry (DSR) - Local Development Environment
# Local Environment Configuration Template
# Version: 1.0.0
# Copy this file to .env and customize for your local setup

# ==============================================
# INFRASTRUCTURE CONFIGURATION
# ==============================================

# Database Configuration
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=dsr_local
DATABASE_USERNAME=dsr_user
DATABASE_PASSWORD=dsr_local_password
DATABASE_URL=jdbc:postgresql://localhost:5432/dsr_local
DATABASE_SCHEMA=dsr_core

# Redis Configuration
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DATABASE=0
REDIS_TIMEOUT=2000
REDIS_MAX_CONNECTIONS=8

# Elasticsearch Configuration
ELASTICSEARCH_HOST=localhost
ELASTICSEARCH_PORT=9200
ELASTICSEARCH_CLUSTER_NAME=dsr-local-cluster
ELASTICSEARCH_INDEX_PREFIX=dsr_local

# Kafka Configuration
KAFKA_BOOTSTRAP_SERVERS=localhost:9092
KAFKA_GROUP_ID_PREFIX=dsr_local
KAFKA_AUTO_OFFSET_RESET=earliest
KAFKA_ENABLE_AUTO_COMMIT=true

# ==============================================
# SERVICE PORTS CONFIGURATION
# ==============================================

# Core Services
REGISTRATION_SERVICE_PORT=8080
DATA_MANAGEMENT_SERVICE_PORT=8081
ELIGIBILITY_SERVICE_PORT=8082
INTEROPERABILITY_SERVICE_PORT=8083
PAYMENT_SERVICE_PORT=8084
GRIEVANCE_SERVICE_PORT=8085
ANALYTICS_SERVICE_PORT=8086

# API Gateway
API_GATEWAY_PORT=8090

# Frontend Applications
WEB_PORTAL_PORT=3000
ADMIN_PORTAL_PORT=3001
MOBILE_API_PORT=3002

# ==============================================
# EXTERNAL INTEGRATIONS (MOCK/LOCAL)
# ==============================================

# PhilSys API (Mock for local development)
PHILSYS_API_URL=http://localhost:9000/api/v1
PHILSYS_API_KEY=local_development_key
PHILSYS_TIMEOUT=30000

# Document Storage (Local filesystem)
DOCUMENT_STORAGE_TYPE=filesystem
DOCUMENT_STORAGE_PATH=./local-storage/documents
DOCUMENT_MAX_SIZE=10MB

# Notification Services (Mock)
SMS_PROVIDER=mock
EMAIL_PROVIDER=mock
PUSH_NOTIFICATION_PROVIDER=mock

# ==============================================
# SECURITY CONFIGURATION
# ==============================================

# JWT Configuration
JWT_SECRET=local_development_secret_key_change_in_production
JWT_EXPIRATION=86400
JWT_REFRESH_EXPIRATION=604800

# OAuth Configuration (Local)
OAUTH_CLIENT_ID=dsr_local_client
OAUTH_CLIENT_SECRET=dsr_local_secret
OAUTH_REDIRECT_URI=http://localhost:3000/auth/callback

# Encryption Keys (Local)
ENCRYPTION_KEY=local_development_encryption_key_32_chars
ENCRYPTION_ALGORITHM=AES-256-GCM

# ==============================================
# LOGGING CONFIGURATION
# ==============================================

# Log Levels
ROOT_LOG_LEVEL=INFO
DSR_LOG_LEVEL=DEBUG
SPRING_LOG_LEVEL=INFO
HIBERNATE_LOG_LEVEL=WARN

# Log Output
LOG_FILE_ENABLED=true
LOG_FILE_PATH=./logs
LOG_FILE_MAX_SIZE=100MB
LOG_FILE_MAX_HISTORY=30

# Console Logging
LOG_CONSOLE_ENABLED=true
LOG_CONSOLE_PATTERN=%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n

# ==============================================
# MONITORING CONFIGURATION
# ==============================================

# Actuator Endpoints
MANAGEMENT_ENDPOINTS_ENABLED=true
MANAGEMENT_ENDPOINTS_WEB_EXPOSURE=health,info,metrics,prometheus
MANAGEMENT_ENDPOINT_HEALTH_SHOW_DETAILS=always

# Metrics
METRICS_ENABLED=true
METRICS_EXPORT_PROMETHEUS_ENABLED=true

# Tracing
TRACING_ENABLED=true
TRACING_JAEGER_ENDPOINT=http://localhost:14268/api/traces
TRACING_SAMPLING_PROBABILITY=1.0

# ==============================================
# DEVELOPMENT CONFIGURATION
# ==============================================

# Spring Profiles
SPRING_PROFILES_ACTIVE=local,development

# Development Features
SPRING_DEVTOOLS_ENABLED=true
SPRING_DEVTOOLS_RESTART_ENABLED=true
SPRING_DEVTOOLS_LIVERELOAD_ENABLED=true

# Database Development
SPRING_JPA_SHOW_SQL=true
SPRING_JPA_FORMAT_SQL=true
SPRING_JPA_DDL_AUTO=update

# Cache Development
SPRING_CACHE_TYPE=redis
SPRING_CACHE_REDIS_TIME_TO_LIVE=3600

# ==============================================
# TEST DATA CONFIGURATION
# ==============================================

# Sample Data Loading
LOAD_SAMPLE_DATA=true
SAMPLE_DATA_PATH=./database/sample-data
SAMPLE_HOUSEHOLDS=100
SAMPLE_MEMBERS_PER_HOUSEHOLD=4

# Test Users
TEST_ADMIN_USERNAME=admin@dsr.local
TEST_ADMIN_PASSWORD=admin123
TEST_CITIZEN_USERNAME=citizen@dsr.local
TEST_CITIZEN_PASSWORD=citizen123

# ==============================================
# PERFORMANCE TUNING
# ==============================================

# Connection Pools
DATABASE_POOL_SIZE=10
DATABASE_POOL_MIN_IDLE=2
DATABASE_POOL_MAX_WAIT=30000

# HTTP Client
HTTP_CLIENT_TIMEOUT=30000
HTTP_CLIENT_MAX_CONNECTIONS=100
HTTP_CLIENT_MAX_CONNECTIONS_PER_ROUTE=20

# Thread Pools
ASYNC_EXECUTOR_CORE_POOL_SIZE=5
ASYNC_EXECUTOR_MAX_POOL_SIZE=20
ASYNC_EXECUTOR_QUEUE_CAPACITY=100

# ==============================================
# FEATURE FLAGS
# ==============================================

# Feature Toggles for Local Development
FEATURE_PHILSYS_INTEGRATION=false
FEATURE_SMS_NOTIFICATIONS=false
FEATURE_EMAIL_NOTIFICATIONS=true
FEATURE_PUSH_NOTIFICATIONS=false
FEATURE_DOCUMENT_UPLOAD=true
FEATURE_ANALYTICS_COLLECTION=true
FEATURE_AUDIT_LOGGING=true

# ==============================================
# MOCK SERVICES CONFIGURATION
# ==============================================

# Mock PhilSys Service
MOCK_PHILSYS_ENABLED=true
MOCK_PHILSYS_PORT=9000
MOCK_PHILSYS_RESPONSE_DELAY=1000

# Mock Payment Gateway
MOCK_PAYMENT_ENABLED=true
MOCK_PAYMENT_PORT=9001
MOCK_PAYMENT_SUCCESS_RATE=0.95

# Mock SMS Gateway
MOCK_SMS_ENABLED=true
MOCK_SMS_PORT=9002

# ==============================================
# CONTAINER CONFIGURATION
# ==============================================

# Podman/Docker Settings
COMPOSE_PROJECT_NAME=dsr_local
COMPOSE_FILE=podman-compose.yml

# Health Check Settings
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=3
HEALTH_CHECK_START_PERIOD=60s
